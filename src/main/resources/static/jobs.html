<!doctype html>
<html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Jobs — GetHired</title>
<link rel="stylesheet" href="/assets/styles.css"/>
</head>
<body>
<nav class="nav"><div class="inner">
  <div class="brand">GET HIRED</div>
  <div class="menu"><a href="/">Home</a>
<div class="menu">
     <a href="javascript:void(0)" id="logout">Logout</a>

  </div>

  <a href="employers.html">Post a job</a>
  </div>
</div></nav>

<div class="container">
  <h2>Open Roles</h2>
  <div class="grid cols-2" id="list">
    <div class="card">
      <strong>Java Intern</strong> • Acme Corp — Indore
      <p style="margin:.4rem 0;color:#475569">Work with Java/Spring team on backend features.</p>
      <button class="primary" onclick="alert('Add jobs API to enable apply')">Apply</button>
    </div>
    <div class="card">
      <strong>Frontend Trainee</strong> • Beta Ltd — Bhopal
      <p style="margin:.4rem 0;color:#475569">Build responsive UIs with HTML/CSS/JS.</p>
      <button class="primary" onclick="alert('Add jobs API to enable apply')">Apply</button>
    </div>
  </div>
</div>

<script>

  const jobsContainer = document.querySelector('#jobsContainer');

if(jobsContainer){
  API.getJobs().then(jobs=>{
    jobsContainer.innerHTML = jobs.map(j=>
      `<div class="jobCard">
         <h3>${j.title}</h3>
         <p>${j.description}</p>
         <p>Location: ${j.location}</p>
         <p>Salary: ${j.salary}</p>
         <button onclick="applyForJob(${j.id})">Apply</button>
       </div>`
    ).join('');
  });
}

async function applyForJob(jobId){
  const user = auth.get();  // yeh tumhare existing login system ka user fetch karega
  if(!user){ alert('Please login first'); return; }

  const payload = { employeeId:user.id, jobId:jobId };
  const res = await API.applyJob(payload);
  if(res.ok) alert('Application sent!');
  else alert('Failed to apply');
}

</script>

<script src="/assets/app.js"></script>
</body></html>
